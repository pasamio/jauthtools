<?xml version="1.0" encoding="utf-8"?>
<mosinstall version="1.0" type="mambot" group="system">
	<name>LDAP Sync</name>
	<author>Sam Moffatt/Toowoomba City Council</author>
	<creationDate>September 2006</creationDate>
	<copyright>(C) 2006 Toowoomba City Council/Sam Moffatt All rights reserved.</copyright																			 >
	<license>http://www.gnu.org/copyleft/gpl.html GNU/GPL</license>
	<authorEmail>S.Moffatt@toowoomba.qld.gov.au</authorEmail>
	<authorUrl>www.toowoomba.qld.gov.au</authorUrl>
	<version>1.0.4</version>
	<description>JAuthTools: Allows LDAP group synchronization to overwrite existing settings.</description>
	<files>
			<filename mambot="ldap.sync">ldap.sync.php</filename>
	</files>
	<params>
		<param name="useglobal" type="radio" default="1" label="Use Global Settings" description="Use the global Joomla! LDAP settings">
			<option value="0">No</option>
			<option value="1">Yes</option>
		</param>
		<param name="host" type="text" size="20" default="" label="Host" description="For example, openldap.mycompany.org" />
		<param name="port" type="text" size="20" default="389" label="Port" description="Default port is 389" />
		<param name="use_ldapV3" type="radio" default="0" label="LDAP V3" description="Default is LDAP2, but latest versions of OpenLdap require clients to use LDAPV3">
			<option value="0">No</option>
			<option value="1">Yes</option>
		</param>
		<param name="negotiate_tls" type="radio" default="0" label="Negotiate TLS" description="Negotiate TLS encryption with the LDAP server. This requires all traffic to and from my LDAP server to be encrypted.">
			<option value="0">No</option>
			<option value="1">Yes</option>
		</param>
		<param name="no_referrals" type="radio" default="0" label="Don&apos;t follow referrals" description="This option clears the LDAP_OPT_REFERRALS flag.You&apos;ll need to check it for Windows 2003 servers.">
			<option value="0">No</option>
			<option value="1">Yes</option>
		</param>
		<param name="@spacer" type="spacer" default="" label="" description="" />
		<param name="base_dn" type="text" size="20" default="" label="Base DN" description="The base DN of your LDAP server, e.g o=mydomain.com" />
		<param name="search_string" type="text" size="20" default="" label="Search string" description="A query string used for search for a given user. The [search] keyword is dynamically replaced by the user-provided login, so an example string is: uid=[search]. Several strings can be used, separated by semicolons." />
		<param name="username" type="text" size="20" default="" label="Connect username" description="The Connect String and Connect password define connection parameters for the DN lookup phase. 3 options are available:- Anonymous DN lookup. Leave both fields blank.- Administrative connection: &apos;Connect String&apos; is the DN of an administrative account, e.g uid=admin,ou=users,o=mydomain.com. &apos;Connect password&apos; is the actual password of your administrative account.- Connection with the user-supplied login/password: &apos;Connect String&apos; is a DN, where the [login] token will be dynamically replaced by the user login, e.g uid=[login],ou=People,dc=my-domain,dc=com. &apos;Connect password&apos; should be the password for the user account" />
		<param name="password" type="text" size="20" default="" label="Connect password" description="This should be used with the username to do prebind activities (namely with Active Directory systems)" />
		<param name="@spacer" type="spacer" default="" label="" description="" />
		<param name="users_dn" type="text" size="20" default="" label="Users DN" description="The [username] keyword is dynamically replaced by the user-provided login, so an example string is: uid=[username], dc=my-domain, dc=com. Several strings can be used, separated by semicolons." />
		<param name="@spacer" type="spacer" default="" label="" description="" />
		<param name="ldap_fullname" type="text" size="20" default="fullName" label="Map FullName" description="Map: Full Name" />
		<param name="ldap_email" type="text" size="20" default="mail" label="Map Email" description="Map: Email" />
		<param name="ldap_uid" type="text" size="20" default="uid" label="Map User ID" description="Map: User ID" />
		<param name="ldap_password" type="text" size="20" default="userPassword" label="Map Password" description="Map: Password" />
		<param name="ldap_blocked" type="text" size="20" default="loginDisabled" label="Map User Blocked" description="LDAP Attribute to map blocked users" />
		<param name="ldap_groupname" type="text" size="20" default="groupMembership" label="Map Group Name" description="The attribute in LDAP storing the group name" />
		<param name="groupMap" type="textarea" cols="30" rows="10" default="" label="Group Map" description="Maps LDAP Groups to Joomla! Groups" />
		<param name="use_iconv" type="radio" default="0" label="Use iconv" description="iconv is required to convert some fields into UTF-8 that is stored in the database. You will need iconv installed (See System -> System Info -> PHP Info)	or this will error">
			<option value="0">No</option>
			<option value="1">Yes</option>
		</param>
		<param name="iconv_from" default="ISO8859-1" type="text" size="10" label="Original Encoding (e.g. ISO8859-1">
		<param name="iconv_to" default="UTF-8" type="text" size="10" label="Target Encoding (e.g. your database)">
	</params>
</mosinstall>
